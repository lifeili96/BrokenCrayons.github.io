---
layout:     post
title:      Blog#1 SPSS Generalized Linear Model (广义线性模型) 
subtitle:   了解probit和logit函数以及验证两者之间的关系：logit(π_i)≈probit(π_i)*(π/sqrt(3))
date:       2019-01-03
author:     Lifei LI
header-img: img/SPSS.jpg
catalog: true
tags:
    - 应用心理统计学
---

## 前言

	这是复旦大学2018应用心理统计学课程的期末录屏作业发布帖。
	学生姓名：李莉菲 | 学号：18210730123。
	
	
## 任务表述：使用模拟数据验证以下等式及约等式
![Aaron Swartz](https://raw.githubusercontent.com/lifeili96/lifeili96.github.io/master/img/equation.jpg)

```
知识要点：

SPSS中的Generalized Linear Model
- 选 binomial logit/probit
- response定义reference level
- predictor和model定义自变量、（缺省勾选）截距
```

### STEP1 选取完成任务需要使用的数据集
- 硬性要求：数据条数 >= 1000，除此之外无其他要求
- 为方便起见，本人依旧使用李晓煦老师在课堂上进行演示时所使用的数据集，不做自行发挥
- 数据集名称：11.Liu&Meng2003.long2wide2long.sav，文末提供下载链接，供君食用

### STEP2 用SPSS打开数据集
- 操作步骤：**File** → **Open** → **Data** → 找到你存放上述数据集的文件夹 → 选择文件“11.Liu&Meng2003.long2wide2long.sav” → **Open**
- 因本人电脑为Mac，无法使用Windows系统下对应的SPSS快捷键，因此上述操作步骤均采用鼠标点击的方式，希望学习快捷操作的童鞋可以自行检索相关信息

### STEP3 制造所需要的模拟数据
- 通过以下步骤调出SPSS Sytax界面
- **Transform** → **Compute Variable** → 设定**Target Variable**（即你希望添加的变量，如X） → 将等式右边部分填入**Numeric Expression**（如希望指定X = y，则将左列的y变量通过「移入按钮➡️」填入Numeric Expression） → 点击下方的**Paste**按钮，至此SPSS Sytax界面被成功调出
- 使用以下代码模拟出所有需要的变量和数据，不建议小白直接复制粘贴，手动输入和点击可加深理解和记忆，体会代码细节处的注意要点

```
在SPSS Sytax界面进行数据Transform操作，所用到的代码如下：

DATASET ACTIVATE DataSet1.
COMPUTE X = y.
COMPUTE yy_p = -14 + 1.21 * X.
COMPUTE yy = RV.NORMAL(yy_p , 1).
COMPUTE yb = (yy > 0).
COMPUTE yb_L = (RV.NORMAL(yy_p , 3.14159/sqrt(3)) > 0).
EXECUTE.

变量含义解读：
- X = y：非必须步骤，目的是为了消除不熟悉相应等式关系的同学在脑海中进行变量转换时所耗费的心理资源
- yy_p = -14 + 1.21 * X：如果对X和yy_p进行回归分析，得到的回归方程的截距应该恰好是-14，而斜率也恰好是1.21，不存在任何拟合误差
- yy = RV.NORMAL(yy_p , 1)：模拟出来的yy变量服从均值M为yy_p，标准差σ为1的正态分布
- yb = (yy > 0)：将连续变量yy转换成离散变量yb，
```

### STEP4 验证等式和不等式
![Aaron Swartz](https://raw.githubusercontent.com/lifeili96/lifeili96.github.io/master/img/equation.jpg)
#### 1. 通过变量**yb**进行验证
- 
#### 2. 通过变量**yb_L**进行验证

#### 参考文件下载：

- [数据集下载] 
<a href="https://pan.baidu.com/s/1O4T2Z4PneIm0iKcEcWsvog">点击进入下载页面</a>
- [SPSS Output下载]
<a href="https://github.com/BrokenCrayons/Statistics-Application/tree/master/%23Task1%20Excel%E7%9F%A9%E9%98%B5%E6%97%8B%E8%BD%AC%E5%8F%8A%E5%8F%AF%E8%A7%86%E5%8C%96%20" download="使用Excel进行矩阵旋转及可视化.xlsx">点击进入下载页面</a>
- [录屏Demo观看及下载]
<a href="https://pan.baidu.com/s/1u8NWsAivq4jOCwkV_pC8jQ">点击进入下载页面</a>
